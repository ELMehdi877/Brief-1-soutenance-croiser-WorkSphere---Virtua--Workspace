const form = document.querySelector('.form')
const form_cont = document.querySelector('#form')
const close = document.getElementById("close")
add_new_worker.addEventListener('click', () => {
    form.classList.remove('hidden')
})
close.addEventListener("click", () => {
    form.classList.add("hidden")
})



// console.log(list_staf);
// console.log(staf);

let list_staf = JSON.parse(localStorage.getItem("list_staf_local")) || []
let i = 0
let staf = {
    id: i,
    name: '',
    role: '',
    photo: '',
    email: '',
    numero: '',
    experiences: [],
}

let exp_entreprise = {
    nom: '',
    post: '',
    date_debut: '',
    date_fin: '',
}

let exps = []
const experience = document.getElementById('experience')
const add_experience = document.getElementById('add_experience')
let confirme = false
add_experience.addEventListener('click', (e) => {

    e.preventDefault()

    // experience.innerHTML+=`
    // <div class="flex flex-wrap bg-black/60 rounded-[10px] m-1 p-1 w-full items-center gap-1">
    //     <label for="" class="font-[500]">Nom de l'entreprise</label>
    //     <input type="text" class="exp bg-white/80 border-1 h-10 border-black w-[100%] rounded-[5px]">
    //     <label for="" class="font-[500]">Nom de poste</label>
    //     <input type="text" class="exp bg-white/80 border-1 h-10 border-black w-[100%] rounded-[5px]">
    //     <label for="" class="font-[500]">Date de debut</label>
    //     <input type="date" class="date_debut exp bg-white/80 border-1 h-10 border-black w-[100%] rounded-[5px]">
    //     <label for="" class="font-[500]">Date de fin</label>
    //     <input type="date" class="date_fin exp bg-white/80 border-1 h-10 border-black w-[100%] rounded-[5px]">
    //     <button type="button" class="font-[500] w-full rounded-[10px] text-red-500 text-[12px] p-1 h-8 border-2">remove</button>
    // </div> 
    // `
    const div1 = document.createElement("div")
    div1.className = "flex flex-wrap bg-black/60 rounded-[10px] m-1 p-1 w-full items-center gap-1"

    let input_nom_entreprise = document.createElement("input")
    input_nom_entreprise.className = "exp nom_entreprise bg-white/80 border-1 h-10 border-black w-[100%] rounded-[5px]"
    input_nom_entreprise.type = "text"
    input_nom_entreprise.placeholder = "le Nom de l'entreprise"

    let input_nom_poste = document.createElement("input")
    input_nom_poste.className = "exp nom_poste bg-white/80 border-1 h-10 border-black w-[100%] rounded-[5px]"
    input_nom_poste.type = "text"
    input_nom_poste.placeholder = "le Nom de poste"


    let input_date_debut = document.createElement("input")
    input_date_debut.className = "date_debut exp bg-white/80 border-1 h-10 border-black w-[100%] rounded-[5px]"
    input_date_debut.type = "date"
    input_date_debut.placeholder = "la date de debut"


    let input_date_fin = document.createElement("input")
    input_date_fin.className = "date_fin exp bg-white/80 border-1 h-10 border-black w-[100%] rounded-[5px]"
    input_date_fin.type = "date"
    input_date_fin.placeholder = "la date de fin"

    const div2 = document.createElement("div")
    div2.className = "flex gap-2 w-full"

    const button_remove = document.createElement("button")
    button_remove.className = "font-[500] w-full rounded-[10px] text-red-500 text-[12px] p-1 h-8 border-2"
    button_remove.textContent = "remove"
    button_remove.type = "button"

    const button_confirme = document.createElement("button")
    button_confirme.className = "font-[500] w-full rounded-[10px] text-green-500 text-[12px] p-1 h-8 border-2"
    button_confirme.textContent = "confirme"
    button_confirme.type = "button"


    button_confirme.addEventListener("click", () => {

        exp_entreprise = {
            nom: input_nom_entreprise.value,
            post: input_nom_poste.value,
            date_debut: input_date_debut.value,
            date_fin: input_date_fin.value,
        }
        exps.push(exp_entreprise)
        button_remove.remove()
        button_confirme.remove()
        console.log(exps);


    })

    button_remove.addEventListener("click", () => {
        div1.remove()
    })

    div2.appendChild(button_confirme)
    div2.appendChild(button_remove)
    div1.appendChild(input_nom_entreprise)
    div1.appendChild(input_nom_poste)
    div1.appendChild(input_date_debut)
    div1.appendChild(input_date_fin)
    div1.appendChild(div2)
    experience.appendChild(div1)

})

console.log(exps);


let Unassigned_Staff = document.querySelector("#Unassigned_Staff")
form_cont.addEventListener('submit', (e) => {
    e.preventDefault()

    //regex name
    let name = document.getElementById('name').value.trim()
    let regex_name = /^[a-zA-Z\s]+$/

    //regex email
    let email = document.getElementById('email').value.trim()
    let regex_email = /^[a-zA-Z_.\d]+@[a-zA-Z]{1,7}\.(com|fr)$/

    //regex numero
    let numero = document.getElementById('numero').value.trim()
    let regex_numero = /^\+[0-9]{1,3}[0-9]{9,}$/

    let role = document.getElementById('role').value.trim()
    let url = document.getElementById('url').value.trim()
    if (url === "") {
        url = "https://www.shutterstock.com/shutterstock/photos/1131880403/display_1500/stock-vector-user-profile-avatar-1131880403.jpg"
    }
    // let exps_inputs = document.querySelectorAll('.exp')
    // console.log(exps_inputs);

    // exps_inputs.forEach(e => {
    //     exps.push(e.value.trim())
    // })

    console.log(exps);

    i = Number(localStorage.getItem("id"))
    let dates_debut = document.querySelectorAll(".date_debut")
    let dates_fin = document.querySelectorAll(".date_fin")
    let date_valid = true
    for (let index = 0; index < dates_debut.length; index++) {
        if (dates_debut[index].value > dates_fin[index].value) {
            console.log(dates_debut);
            date_valid = false
            exps = []
            return
        }
    }

    if (regex_name.test(name) && regex_email.test(email) && regex_numero.test(numero) && date_valid === true) {
        staf = {
            id: ++i,
            name: name,
            role: role,
            photo: url,
            email: email,
            numero: numero,
            experiences: exps,
        }
        localStorage.setItem("id", i)
        list_staf.push(staf)
        localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
        function affiche_one_Unassigned_Staff() {
            Unassigned_Staff.innerHTML += `

            <div class="flex p-2 items-center bg-blue-300 rounded-[10px]">
                    <div  class="flex gap-5 items-center">
                        <img onclick='affiche_info(${JSON.stringify(staf)})' src="${url}" width="18%" alt="Photo">
                        <div>
                            <p class="">${name}</p>
                            <p class="font-[400]">${role}</p>
                        </div>
                    </div>
                    <button onclick="suprime_empl(${i})" class="font-[500]  rounded-[10px] text-red-500 text-[12px] p-1 border-2">remove</button>
                </div>

            `
        }

        affiche_one_Unassigned_Staff()
    }
})

let photo = document.getElementById("photo")
let url = document.getElementById("url")
url.addEventListener("input", () => {
    if (url.value.trim() !== "") {
        photo.src = url.value.trim()
    }
    else
        photo.src = "https://www.shutterstock.com/shutterstock/photos/1131880403/display_1500/stock-vector-user-profile-avatar-1131880403.jpg"

})

function suprime_empl(id) {
    list_staf = list_staf.filter(el => el.id !== id)
    localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
    affiche_tous_Unassigned_Staff()
}

function affiche_tous_Unassigned_Staff() {
    Unassigned_Staff.innerHTML = "";
    list_staf.forEach(el => {

        Unassigned_Staff.innerHTML += `
            <div class="flex p-2 items-center bg-blue-300 rounded-[10px]">
                    <div class="flex gap-5 items-center">
                        <img src="${el.photo}" onclick='affiche_info(${JSON.stringify(el)})' width="18%" alt="Photo">
                        <div>
                            <p class="">${el.name}</p>
                            <p class="font-[400]">${el.role}</p>
                        </div>
                    </div>
                    <button onclick="suprime_empl(${el.id})" class=" font-[500]  rounded-[10px] text-red-500 text-[12px] p-1 border-2">remove</button>
                </div>
            `
    })
}
affiche_tous_Unassigned_Staff()
let list_conference = []
let list_Receptionnistes = []
let list_serveurs = []
let list_securite = []
let list_personnel = []
let list_archive = []
let type_role = document.getElementById("type_role")

function affiche_Salle_conference() {
    type_role.textContent = "Salle de conférence"
    list_conference = list_staf
    let Worker = document.getElementById('Worker')
    Worker.innerHTML = "";
    list_conference.forEach(el => {

        Worker.innerHTML += `
            <div class="flex p-2 items-center bg-blue-300 rounded-[10px]">
                    <div class="flex gap-5 items-center">
                        <img src="${el.photo}" width="18%" alt="Photo">
                        <div>
                            <p class="">${el.name}</p>
                            <p class="font-[400]">${el.role}</p>
                        </div>
                    </div>
                    <button onclick="add_conference(${el.id})" class=" font-[500]  rounded-[10px] bg-green-700 text-white text-[12px] p-2 ">add</button>
                </div>
            `
    })
}


function affiche_Salle_Reception() {
    type_role.textContent = "Réception"
    list_Receptionnistes = list_staf.filter(el => el.role === "Réceptionnistes" || el.role === "Manager" || el.role === "Nettoyage")
    let Worker = document.getElementById('Worker')
    Worker.innerHTML = "";
    list_Receptionnistes.forEach(el => {

        Worker.innerHTML += `
            <div class="flex p-2 items-center bg-blue-300 rounded-[10px]">
                    <div class="flex gap-5 items-center">
                        <img src="${el.photo}" width="18%" alt="Photo">
                        <div>
                            <p class="">${el.name}</p>
                            <p class="font-[400]">${el.role}</p>
                        </div>
                    </div>
                    <button onclick="add_reception(${el.id})" class=" font-[500]  rounded-[10px] bg-green-700 text-white text-[12px] p-2 ">add</button>
                </div>
            `
    })
}
// affiche_Salle_conference()

function affiche_Salle_serveurs() {
    type_role.textContent = "Salle des serveurs"
    list_serveurs = list_staf.filter(el => el.role === "Techniciens IT" || el.role === "Manager" || el.role === "Nettoyage")
    let Worker = document.getElementById('Worker')
    Worker.innerHTML = "";
    list_serveurs.forEach(el => {

        Worker.innerHTML += `
            <div class="flex p-2 items-center bg-blue-300 rounded-[10px]">
                    <div class="flex gap-5 items-center">
                        <img src="${el.photo}" width="18%" alt="Photo">
                        <div>
                            <p class="">${el.name}</p>
                            <p class="font-[400]">${el.role}</p>
                        </div>
                    </div>
                    <button onclick="add_serveur(${el.id})" class=" font-[500]  rounded-[10px] bg-green-700 text-white text-[12px] p-2 ">add</button>
                </div>
            `
    })
}


function affiche_Salle_securite() {
    type_role.textContent = "Salle de sécurité"
    list_securite = list_staf.filter(el => el.role === "Sécurité" || el.role === "Manager" || el.role === "Nettoyage")
    let Worker = document.getElementById('Worker')
    Worker.innerHTML = "";
    list_securite.forEach(el => {

        Worker.innerHTML += `
            <div class="flex p-2 items-center bg-blue-300 rounded-[10px]">
                    <div class="flex gap-5 items-center">
                        <img src="${el.photo}" width="18%" alt="Photo">
                        <div>
                            <p class="">${el.name}</p>
                            <p class="font-[400]">${el.role}</p>
                        </div>
                    </div>
                    <button onclick="add_securite(${el.id})" class=" font-[500]  rounded-[10px] bg-green-700 text-white text-[12px] p-2 ">add</button>
                </div>
            `
    })
}


function affiche_Salle_personnel() {
    type_role.textContent = "Salle du personnel"
    list_personnel = list_staf
    let Worker = document.getElementById('Worker')
    Worker.innerHTML = "";
    list_personnel.forEach(el => {

        Worker.innerHTML += `
            <div class="flex p-2 items-center bg-blue-300 rounded-[10px]">
                    <div class="flex gap-5 items-center">
                        <img src="${el.photo}" width="18%" alt="Photo">
                        <div>
                            <p class="">${el.name}</p>
                            <p class="font-[400]">${el.role}</p>
                        </div>
                    </div>
                    <button onclick="add_perssone(${el.id})" class=" font-[500]  rounded-[10px] bg-green-700 text-white text-[12px] p-2 ">add</button>
                </div>
            `
    })
}


function affiche_Salle_archive() {
    type_role.textContent = "Salle d’archives"
    list_archive = list_staf.filter(el => el.role === "Manager")
    let Worker = document.getElementById('Worker')
    Worker.innerHTML = "";
    list_archive.forEach(el => {

        Worker.innerHTML += `
            <div class="flex p-2 items-center bg-blue-300 rounded-[10px]">
                    <div class="flex gap-5 items-center">
                        <img src="${el.photo}" width="18%" alt="Photo">
                        <div>
                            <p class="">${el.name}</p>
                            <p class="font-[400]">${el.role}</p>
                        </div>
                    </div>
                    <button onclick="add_archive(${el.id})" class=" font-[500]  rounded-[10px] bg-green-700 text-white text-[12px] p-2 ">add</button>
                </div>
            `
    })
}




const open_worker = document.getElementById('open_worker')
const Salle_conference = document.getElementById('Salle_conference')
const Salle_Reception = document.getElementById('Salle_Reception')
const Salle_serveurs = document.getElementById('Salle_serveurs')
const Salle_scurite = document.getElementById('Salle_scurite')
const Salle_personnel = document.getElementById('Salle_personnel')
const Salle_archives = document.getElementById('Salle_archives')

const close_list = document.getElementById("close_list")

Salle_conference.addEventListener('click', () => {
    open_worker.classList.remove('hidden')
})

Salle_Reception.addEventListener('click', () => {
    open_worker.classList.remove('hidden')
})

Salle_serveurs.addEventListener('click', () => {
    open_worker.classList.remove('hidden')
})

Salle_scurite.addEventListener('click', () => {
    open_worker.classList.remove('hidden')
})

Salle_personnel.addEventListener('click', () => {
    open_worker.classList.remove('hidden')
})

Salle_archives.addEventListener('click', () => {
    open_worker.classList.remove('hidden')
})

close_list.addEventListener("click", () => {
    open_worker.classList.add("hidden")
})

let employent_dans_conference = JSON.parse(localStorage.getItem("conference")) || []
let employent_dans_reception = JSON.parse(localStorage.getItem("reception")) || []
let employent_dans_serveur = JSON.parse(localStorage.getItem("serveur")) || []
let employent_dans_securite = JSON.parse(localStorage.getItem("securite")) || []
let employent_dans_perssone = JSON.parse(localStorage.getItem("perssone")) || []
let employent_dans_archive = JSON.parse(localStorage.getItem("archive")) || []
// let employent_dans_conference = []
// let employent_dans_reception = []
// let employent_dans_serveur = []
// let employent_dans_securite = []
// let employent_dans_perssone = []
// let employent_dans_archive = []

// console.log(employent_dans_conference);



let cont_Salle_conference = document.getElementById("cont_Salle_conference")
function add_conference(id) {
    if (cont_Salle_conference.children.length < 8) {
        list_conference.forEach(el => {
            if (el.id === id) {
                employent_dans_conference.push(el)
                localStorage.setItem("conference", JSON.stringify(employent_dans_conference))
                // console.log(employent_dans_conference);
                affiche_conference()
                list_staf = list_staf.filter(el => el.id !== id)
                localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
                affiche_tous_Unassigned_Staff()

            }
        })
    }
}

let cont_Salle_Reception = document.getElementById("cont_Salle_Reception")
function add_reception(id) {
    if (cont_Salle_Reception.children.length < 12) {
        list_Receptionnistes.forEach(el => {
            if (el.id === id) {
                employent_dans_reception.push(el)
                localStorage.setItem("reception", JSON.stringify(employent_dans_reception))
                affiche_reception()
                list_staf = list_staf.filter(el => el.id !== id)
                localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
                affiche_tous_Unassigned_Staff()

            }
        })

    }
    // console.log(cont_Salle_Reception.children.length);

}

let cont_Salle_serveurs = document.getElementById("cont_Salle_serveurs")
function add_serveur(id) {
    if (cont_Salle_serveurs.children.length < 4) {

        list_serveurs.forEach(el => {
            if (el.id === id) {
                employent_dans_serveur.push(el)
                localStorage.setItem("serveur", JSON.stringify(employent_dans_serveur))
                affiche_serveur()
                list_staf = list_staf.filter(el => el.id !== id)
                localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
                affiche_tous_Unassigned_Staff()
            }
        })
    }

}

let cont_Salle_scurite = document.getElementById("cont_Salle_scurite")
function add_securite(id) {
    if (cont_Salle_scurite.children.length < 4) {
        list_securite.forEach(el => {
            if (el.id === id) {
                employent_dans_securite.push(el)
                localStorage.setItem("securite", JSON.stringify(employent_dans_securite))
                affiche_securite()
                list_staf = list_staf.filter(el => el.id !== id)
                localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
                affiche_tous_Unassigned_Staff()
            }
        })
    }


}

let cont_Salle_personnel = document.getElementById("cont_Salle_personnel")
function add_perssone(id) {
    if (cont_Salle_personnel.children.length < 4) {

        list_personnel.forEach(el => {
            if (el.id === id) {
                employent_dans_perssone.push(el)
                localStorage.setItem("perssone", JSON.stringify(employent_dans_perssone))
                affiche_perssone()
                list_staf = list_staf.filter(el => el.id !== id)
                localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
                affiche_tous_Unassigned_Staff()
            }
        })
    }


}

let cont_Salle_archives = document.getElementById("cont_Salle_archives")
function add_archive(id) {
    if (cont_Salle_archives.children.length < 4) {

        list_archive.forEach(el => {
            if (el.id === id) {
                employent_dans_archive.push(el)
                localStorage.setItem("archive", JSON.stringify(employent_dans_archive))
                affiche_archive()
                list_staf = list_staf.filter(el => el.id !== id)
                localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
                affiche_tous_Unassigned_Staff()
            }
            // console.log(el.experiences);
        })
    }

}

const section_info = document.getElementById('section_info')
function affiche_info(el) {
    section_info.classList.remove("hidden")
    section_info.innerHTML = `
    <div class="relative w-95 flex flex-col p-5 gap-2 lg:w-160 bg-gray-400 rounded-[10px] font-[400]">
    <h2 class="font-[700]">${el.name}</h2>
    <div class="flex gap-4 items-start">
    <img src="${el.photo}" alt="photo" class="w-[40%] lg:w-[20%]">
    <div class="flex flex-col gap-2">
    <h3 class="font-[700]">${el.role}</h3>
    <p>${el.email}</p>
    <p>${el.numero}</p>
    <h3 class="font-[700]">Expériences</h3>
    <ul id="list_experience" class="list-disc ml-10">
    </ul>
    <p>localisation actuelle : reception</p>
    </div>
    </div>
    <button id="close_info" class="rounded-[5px] w-8 bg-red-800 text-white absolute lg:left-145 left-80">X</button>
    </div> 
    
    `


    let close_info = document.getElementById("close_info")
    close_info.addEventListener('click', () => {
        section_info.classList.add("hidden")
    })

    let list_experience = document.getElementById("list_experience")
    el.experiences.forEach(item => {
        let li = document.createElement('li')
        li.textContent = item
        // console.log(li);
        list_experience.appendChild(li)

    })

}

function retour_conference_Staff(el) {

    // console.log(el);
    list_staf.push(el)
    localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
    affiche_tous_Unassigned_Staff()
    supprime_conference(el.id)
    // console.log("true");
    // console.log(list_staf);
}

function supprime_conference(id) {
    employent_dans_conference = employent_dans_conference.filter(el => el.id !== id)
    localStorage.setItem("conference", JSON.stringify(employent_dans_conference))
    // cont_Salle_conference.innerHTML = ''
    // employent_dans_conference.forEach(el => {
    //     cont_Salle_conference.innerHTML += `
    //             <div class="relative rounded-[5px] flex bg-gray-400  p-1  gap-1 w-35 ">
    //     <img id="${el.id}" onclick='affiche_info(${JSON.stringify(el)})' src="${el.photo}" alt="photo"
    //         class="w-5 lg:w-10 lg:h-10 relative h-5 bg-blue-500 rounded-full">
    //     <div class="flex flex-col items-start text-white text-[9px] font-[600]">
    //         <p>${el.name}</p>
    //         <p>${el.role}</p>
    //     </div>
    //     <div class="flex items-start">
    //         <button onclick='retour_conference_Staff(${JSON.stringify(el)})' class="rounded-[4px] w-3 text-[8px] bg-red-800 text-white ">X</button>
    //     </div>
    // </div>
    //         `
    // })
    affiche_conference()
}


function retour_reception_Staff(el) {

    // console.log(el);
    list_staf.push(el)
    localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
    affiche_tous_Unassigned_Staff()
    supprime_reception(el.id)
    // console.log("true");
    // console.log(list_staf);
}

function supprime_reception(id) {
    employent_dans_reception = employent_dans_reception.filter(el => el.id !== id)
    localStorage.setItem("reception", JSON.stringify(employent_dans_reception))
    affiche_reception()
}


function retour_serveur_Staff(el) {

    // console.log(el);
    list_staf.push(el)
    localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
    affiche_tous_Unassigned_Staff()
    supprime_serveur(el.id)
    // console.log("true");
    // console.log(list_staf);
}

function supprime_serveur(id) {
    employent_dans_serveur = employent_dans_serveur.filter(el => el.id !== id)
    localStorage.setItem("serveur", JSON.stringify(employent_dans_serveur))
    affiche_serveur()
}

function retour_securite_Staff(el) {

    // console.log(el);
    list_staf.push(el)
    localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
    affiche_tous_Unassigned_Staff()
    supprime_securite(el.id)
    // console.log("true");
    // console.log(list_staf);
}

function supprime_securite(id) {
    employent_dans_securite = employent_dans_securite.filter(el => el.id !== id)
    localStorage.setItem("securite", JSON.stringify(employent_dans_securite))
    affiche_securite()
}

function retour_perssone_Staff(el) {

    // console.log(el);
    list_staf.push(el)
    localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
    affiche_tous_Unassigned_Staff()
    supprime_perssone(el.id)
    // console.log("true");
    // console.log(list_staf);
}

function supprime_perssone(id) {
    employent_dans_perssone = employent_dans_perssone.filter(el => el.id !== id)
    localStorage.setItem("perssone", JSON.stringify(employent_dans_perssone))
    affiche_perssone()
}

function retour_archive_Staff(el) {

    // console.log(el);
    list_staf.push(el)
    localStorage.setItem("list_staf_local", JSON.stringify(list_staf))
    affiche_tous_Unassigned_Staff()
    supprime_archive(el.id)
    // console.log("true");
    // console.log(list_staf);
}

function supprime_archive(id) {
    employent_dans_archive = employent_dans_archive.filter(el => el.id !== id)
    localStorage.setItem("archive", JSON.stringify(employent_dans_archive))
    affiche_archive()
}

function affiche_conference() {
    cont_Salle_conference.innerHTML = ""
    employent_dans_conference.forEach(el => {
        cont_Salle_conference.innerHTML += `
        <div class="relative rounded-[5px] flex bg-gray-400  p-[4px]">
            <div onclick='affiche_info(${JSON.stringify(el)})' class="flex relative flex-col items-center text-white lg:text-[9px] text-[3px] font-[700]">
                <img id="${el.id}"  src="${el.photo}" alt="photo" class="w-4 lg:w-10 lg:h-10 relative h-4 bg-blue-500 rounded-full">
                <p class="absolute bg-black lg:red-500 lg:w-12 lg:top-10 w-6 px-[1px] py-[1px] top-4 rounded-full">${el.name}</p> 
            </div>
            <div class="flex items-start">
                <button onclick='retour_conference_Staff(${JSON.stringify(el)})' class="absolute lg:bottom-10 right-[0px] bottom-5 rounded-full lg:w-3 lg:text-[8px] text-[5px] bg-red-800 text-white w-2">X</button>
             </div>
        </div>
            `
    })
}

function affiche_reception() {
    cont_Salle_Reception.innerHTML = ""
    employent_dans_reception.forEach(el => {
        cont_Salle_Reception.innerHTML += `
        <div class="relative rounded-[5px] flex bg-gray-400  p-[4px]">
            <div onclick='affiche_info(${JSON.stringify(el)})' class="flex relative flex-col items-center text-white lg:text-[9px] text-[3px] font-[700]">
                <img id="${el.id}"  src="${el.photo}" alt="photo" class="w-4 lg:w-10 lg:h-10 relative h-4 bg-blue-500 rounded-full">
                <p class="absolute bg-black lg:red-500 lg:w-12 lg:top-10 w-6 px-[1px] py-[1px] top-4 rounded-full">${el.name}</p> 
            </div>
            <div class="flex items-start">
                <button onclick='retour_reception_Staff(${JSON.stringify(el)})' class="absolute lg:bottom-10 right-[0px] bottom-5 rounded-full lg:w-3 lg:text-[8px] text-[5px] bg-red-800 text-white w-2">X</button>
            </div>
        </div>
            `
    })
}


function affiche_serveur() {
    cont_Salle_serveurs.innerHTML = ""
    employent_dans_serveur.forEach(el => {
        cont_Salle_serveurs.innerHTML += `
        <div class="relative rounded-[5px] flex bg-gray-400  p-[4px]">
            <div onclick='affiche_info(${JSON.stringify(el)})' class="flex relative flex-col items-center text-white lg:text-[9px] text-[3px] font-[700]">
                <img id="${el.id}"  src="${el.photo}" alt="photo" class="w-4 lg:w-10 lg:h-10 relative h-4 bg-blue-500 rounded-full">
                <p class="absolute bg-black lg:red-500 lg:w-12 lg:top-10 w-6 px-[1px] py-[1px] top-4 rounded-full">${el.name}</p> 
            </div>
            <div class="flex items-start">
                <button onclick='retour_serveur_Staff(${JSON.stringify(el)})' class="absolute lg:bottom-10 right-[0px] bottom-5 rounded-full lg:w-3 lg:text-[8px] text-[5px] bg-red-800 text-white w-2">X</button>
            </div>
        </div>
            `
    })
}


function affiche_securite() {
    cont_Salle_scurite.innerHTML = ""
    employent_dans_securite.forEach(el => {
        cont_Salle_scurite.innerHTML += `
        <div class="relative rounded-[5px] flex bg-gray-400  p-[4px]">
            <div onclick='affiche_info(${JSON.stringify(el)})' class="flex relative flex-col items-center text-white lg:text-[9px] text-[3px] font-[700]">
                <img id="${el.id}"  src="${el.photo}" alt="photo" class="w-4 lg:w-10 lg:h-10 relative h-4 bg-blue-500 rounded-full">
                <p class="absolute bg-black lg:red-500 lg:w-12 lg:top-10 w-6 px-[1px] py-[1px] top-4 rounded-full">${el.name}</p> 
            </div>
            <div class="flex items-start">
                <button onclick='retour_securite_Staff(${JSON.stringify(el)})' class="absolute lg:bottom-10 right-[0px] bottom-5 rounded-full lg:w-3 lg:text-[8px] text-[5px] bg-red-800 text-white w-2">X</button>
            </div>
        </div>
            `
    })
}


function affiche_perssone() {
    cont_Salle_personnel.innerHTML = ""
    employent_dans_perssone.forEach(el => {
        cont_Salle_personnel.innerHTML += `
        <div class="relative rounded-[5px] flex bg-gray-400  p-[4px]">
            <div onclick='affiche_info(${JSON.stringify(el)})' class="flex relative flex-col items-center text-white lg:text-[9px] text-[3px] font-[700]">
                <img id="${el.id}"  src="${el.photo}" alt="photo" class="w-4 lg:w-10 lg:h-10 relative h-4 bg-blue-500 rounded-full">
                <p class="absolute bg-black lg:red-500 lg:w-12 lg:top-10 w-6 px-[1px] py-[1px] top-4 rounded-full">${el.name}</p> 
            </div>
            <div class="flex items-start">
                <button onclick='retour_perssone_Staff(${JSON.stringify(el)})' class="absolute lg:bottom-10 right-[0px] bottom-5 rounded-full lg:w-3 lg:text-[8px] text-[5px] bg-red-800 text-white w-2">X</button>
            </div>
        </div>
            `
    })
}


function affiche_archive() {
    cont_Salle_archives.innerHTML = ""
    employent_dans_archive.forEach(el => {
        cont_Salle_archives.innerHTML += `
        <div class="relative rounded-[5px] flex bg-gray-400  p-[4px]">
            <div onclick='affiche_info(${JSON.stringify(el)})' class="flex relative flex-col items-center text-white lg:text-[9px] text-[3px] font-[700]">
                <img id="${el.id}"  src="${el.photo}" alt="photo" class="w-4 lg:w-10 lg:h-10 relative h-4 bg-blue-500 rounded-full">
                <p class="absolute bg-black lg:red-500 lg:w-12 lg:top-10 w-6 px-[1px] py-[1px] top-4 rounded-full">${el.name}</p> 
            </div>
            <div class="flex items-start">
                <button onclick='retour_archive_Staff(${JSON.stringify(el)})' class="absolute lg:bottom-10 right-[0px] bottom-5 rounded-full lg:w-3 lg:text-[8px] text-[5px] bg-red-800 text-white w-2">X</button>
            </div>
        </div>
            `
    })
}

affiche_conference()
affiche_reception()
affiche_serveur()
affiche_securite()
affiche_perssone()
affiche_archive()

const Salle_conference=
















<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="stylesheet" href="style.css"> -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>WorkSphere Virtual Workspace</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <!-- <link
        href="https://fonts.googleapis.com/css2?family=Belgrano&family=Leckerli+One&family=Lexend:wght@100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Volkhov:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet"> -->
</head>

<body class="flex lg:items-start lg:flex-row flex-col items-center lg:gap-1 gap-2 bg-gray-800">

    <section id="open_worker"
        class="hidden absolute bg-red-400/50 z-1  w-full h-screen flex justify-center items-center">
        <div
            class="font-[700] bg-gray-300 relative rounded-[10px] flex flex-col items-center gap-2 p-2 lg:w-[27%] w-[100%]">
            <h1 id="type_role" class="font-[700] text-[25px]  text-gray-800 underline">Reception</h1>
            <button id="close_list"
                class="rounded-[5px] w-8 bg-red-800 text-white absolute lg:left-90 mt-2 left-85">X</button>
            <div id="Worker"
                class="bg-white p-2 gap-2 flex w-full h-120 overflow-y-scroll [scrollbar-width:none] flex-col rounded-[10px] ">
            </div>
        </div>
    </section>


    <section
        class="font-[700] order-last lg:order-first bg-gray-300 rounded-[10px] flex flex-col gap-2 p-4 lg:w-[27%] w-[100%]">
        <h2>Unassigned Staff</h2>
        <button id="add_new_worker" class="font-[400] bg-blue-500 text-white p-2 rounded-[10px]">Add New Worker</button>
        <div id="Unassigned_Staff"
            class="bg-white p-3 gap-2 lg:h-150 h-80 overflow-y-scroll [scrollbar-width:none] flex flex-col rounded-[10px]">
            <!-- <div class="flex p-2 items-center bg-blue-300 rounded-[10px]">
                <div class="flex gap-5 items-center">
                    <img src="image/mehdi.png" width="18%" alt="Photo">
                    <div>
                        <p class="">EL Mehdi Lahrach</p>
                        <p class="font-[400]">Experience</p>
                    </div>
                </div>
                <button class="font-[500]  rounded-[10px] text-red-500 text-[12px] p-1 border-2">remove</button>
            </div> -->
            <!-- <div class="flex p-2 items-center bg-blue-300 rounded-[10px]">
                <div class="flex gap-5 items-center">
                    <img src="image/mehdi.png" width="18%" alt="Photo">
                    <div>
                        <p class="">EL Mehdi Lahrach</p>
                        <p class="font-[400]">Experience</p>
                    </div>
                </div>
                <button class="font-[500]  rounded-[10px] text-red-500 text-[12px] p-1 border-2">remove</button>
            </div>
            <div class="flex p-2 items-center bg-blue-300 rounded-[10px]">
                <div class="flex gap-5 items-center">
                    <img src="image/mehdi.png" width="18%" alt="Photo">
                    <div>
                        <p class="">EL Mehdi Lahrach</p>
                        <p class="font-[400]">Experience</p>
                    </div>
                </div>
                <button class="font-[500]  rounded-[10px] text-red-500 text-[12px] p-1 border-2">remove</button>
            </div>
            <div class="flex p-2 items-center bg-blue-300 rounded-[10px]">
                <div class="flex gap-5 items-center">
                    <img src="image/mehdi.png" width="18%" alt="Photo">
                    <div>
                        <p class="">EL Mehdi Lahrach</p>
                        <p class="font-[400]">Experience</p>
                    </div>
                </div>
                <button class="font-[500]  rounded-[10px] text-red-500 text-[12px] p-1 border-2">remove</button>
            </div> -->
        </div>


    </section>

    <section
        class="grid lg:h-160 lg:w-[74%] h-55 w-[100%] text-center  lg:rotate-[0deg] lg:p-2 p-[2px] grid-cols-26 grid-rows-3 bg-[url(image/bg-desktop.jpg)] bg-no-repeat lg:gap-2  bg-cover  bg-center text-[6px] lg:text-[12px]">
        <div
            id="Salle_conference" class="flex justify-center flex-wrap items-center border-3 row-span-1 col-span-10 bg-blue-800/40 p-1 lg:p-2">
            <p class="fixed ">Salle de conférence</p>
            <div class=" flex flex-wrap justify-center gap-1 items-center ">
                <div id="cont_Salle_conference" class="flex flex-wrap justify-center gap-1 items-center ">
                    <!-- <img src="" alt="photo" class="w-5 lg:w-10 lg:h-10 relative h-5 bg-blue-500 rounded-full"> -->
                </div>
                <button onclick="affiche_Salle_conference()" id="Salle_conference"
                    class="w-3 lg:w-6 lg:h-6 relative h-3 bg-blue-800 text-white rounded-full font-[700] text-[9px] lg:text-[18px] ">+</button>
            </div>
        </div>
        <div class="flex justify-center items-center border-3 row-span-3 col-span-4 bg-red-800/40">space</div>
        <div id="Salle_serveurs" class="flex justify-center items-center border-3 row-span-1 col-span-6 bg-pink-800/40 p-1">
            <p class="fixed">Salle des serveurs</p>
            <div class=" flex flex-wrap justify-center gap-1 items-center ">
                <div id="cont_Salle_serveurs" class="flex flex-wrap justify-center gap-1 items-center ">
                    <!-- <img src="" alt="photo" class="w-5 lg:w-10 lg:h-10 relative h-5 bg-blue-500 rounded-full"> -->
                </div>
                <button id="Salle_Reception" onclick="affiche_Salle_serveurs()"
                    class="w-3 lg:w-6 lg:h-6 relative h-3 bg-blue-800 text-white rounded-full text-[9px] font-[700] lg:text-[18px] ">+</button>

            </div>
        </div>
        <div id="Salle_scurite" class="flex justify-center items-center border-3 row-span-1 col-span-6 bg-yellow-800/40 p-1">
            <p class="fixed">Salle de sécurité</p>
            <div class=" flex flex-wrap justify-center gap-1 items-center ">
                <div id="cont_Salle_scurite" class="flex flex-wrap justify-center gap-1 items-center ">
                    <!-- <img src="" alt="photo" class="w-5 lg:w-10 lg:h-10 relative h-5 bg-blue-500 rounded-full"> -->
                </div>
                <button id="Salle_serveurs" onclick="affiche_Salle_securite()"
                    class="w-3 lg:w-6 lg:h-6 relative h-3 bg-blue-800 text-white rounded-full text-[9px] font-[700] lg:text-[18px] ">+</button>
            </div>
        </div>
        <div id="Salle_Reception" class="flex justify-center items-center border-3 row-span-2 col-span-10 bg-green-500/40 p-1">
            <p class="fixed">Réception</p>
            <div class=" flex flex-wrap justify-center gap-1 items-center ">
                <div id="cont_Salle_Reception" class="flex flex-wrap justify-center gap-1 items-center ">
                    <!-- <img src="" alt="photo" class="w-5 lg:w-10 lg:h-10 relative h-5 bg-blue-500 rounded-full"> -->
                </div>
                <button id="Salle_scurite" onclick="affiche_Salle_Reception()"
                    class="w-3 lg:w-6 lg:h-6 relative h-3 bg-blue-800 text-white rounded-full text-[9px] font-[700] lg:text-[18px] ">+</button>

            </div>
        </div>
        <div class="flex justify-center items-center border-3 row-span-1 col-span-12 bg-gray-800/40">space</div>
        <div id="" class="flex  justify-center items-center border-3 row-span-1 col-span-6 bg-purple-800/40 p-1">
            <p class="fixed">Salle du personnel</p>
            <div class=" flex flex-wrap justify-center gap-1 items-center ">
                <div id="cont_Salle_personnel" class="flex flex-wrap justify-center gap-1 items-center ">
                    <!-- <img src="" alt="photo" class="w-5 lg:w-10 lg:h-10 relative h-5 bg-blue-500 rounded-full"> -->
                </div>
                <button id="Salle_personnel" onclick="affiche_Salle_personnel()"
                    class="w-3 lg:w-6 lg:h-6 relative h-3 bg-blue-800 text-white rounded-full text-[9px] font-[700] lg:text-[18px] ">+</button>

            </div>
        </div>
        <div class="flex justify-center items-center border-3 row-span-1 col-span-6 bg-white/40 p-1">
            <p class="fixed">Salle d’archives</p>
            <div class=" flex flex-wrap justify-center gap-1 items-center ">
                <div id="cont_Salle_archives" class="flex flex-wrap justify-center gap-1 items-center ">
                    <!-- <img src="" alt="photo" class="w-5 lg:w-10 lg:h-10 relative h-5 bg-blue-500 rounded-full"> -->
                </div>
                <button id="Salle_archives" onclick="affiche_Salle_archive()"
                    class="w-3 lg:w-6 lg:h-6 relative h-3 bg-blue-800 text-white rounded-full text-[9px] font-[700] lg:text-[18px] ">+</button>

            </div>
        </div>
    </section>

    <section class="form hidden absolute w-full h-screen flex justify-center items-center bg-black/50">
        <div class="bg-gray-400 relative items-center flex flex-col rounded-[10px] py-2 px-2 lg:w-[35%] w-90">
            <div class="flex relative">
                <h2 class="font-[700] text-[25px]  text-gray-800 underline">Add New Worker</h2>
                <!-- <button id="close" class="font-[700] lg:left-[50%] relative left-[20%] text-[25px] ">X</button> -->
                <button id="close"
                    class="rounded-[5px] w-8 bg-red-800 text-white absolute lg:left-80 mt-2 left-58">X</button>
            </div>
            <div class=" w-[100%] lg:h-160 h-150 overflow-y-scroll [scrollbar-width:none]">
                <form id="form" class="flex flex-col  text-black  gap-1 w-[100%] ">
                    <label for="" class="font-[500]">name</label>
                    <input type="text" required id="name"
                        class="bg-white/80 border-2 mb-2 h-10 border-black rounded-[5px]">
                    <label for="" class="font-[500]">Rôle</label>
                    <select name="" required id="role"
                        class="bg-white/80 border-1 mb-2 h-10 border-black rounded-[5px]">
                        <option value="Réceptionnistes">Réceptionnistes</option>
                        <option value="Techniciens IT">Techniciens IT</option>
                        <option value="Sécurité">sécurité</option>
                        <option value="Manager">Manager</option>
                        <option value="Nettoyage">Nettoyage</option>
                        <option value="Autres rôles">Autres rôles</option>
                    </select>
                    <label for="" class="font-[500]">Photo (URL)</label>
                    <input type="url" id="url" class="bg-white/80 border-2 mb-2 h-10 border-black rounded-[5px]">
                    <img id="photo" src="" class="bg-white/50 lg:w-30 lg:h-30 w-20 h-20 ml-[35%] rounded-full"></img>
                    <label for="" class="font-[500]">email</label>
                    <input id="email" required type="email"
                        class="bg-white/80 border-2 p-2 mb-2 h-10 border-black rounded-[5px]">
                    <label for="" class="font-[500]">numero</label>
                    <input type="text" id="numero" required id="numero"
                        class="bg-white/80 border-2 p-2 mb-2 h-10 border-black rounded-[5px]">
                    <label for="" class="font-[500]">Expériences professionnelles</label>
                    <div id="experience" class="flex flex-col items-center gap-1">
                        <!-- <div class="flex flex-wrap bg-black/60 rounded-[10px] m-1 p-1 w-full items-center gap-1">
                            <label for="" class="font-[500]">Nom de l'entreprise</label>
                            <input type="text" class="exp bg-white/80 border-1 h-10 border-black w-[100%] rounded-[5px]">
                            <label for="" class="font-[500]">Nom de poste</label>
                            <input type="text" class="exp bg-white/80 border-1 h-10 border-black w-[100%] rounded-[5px]">
                            <label for="" class="font-[500]">Date de debut</label>
                            <input type="date" class="exp bg-white/80 border-1 h-10 border-black w-[100%] rounded-[5px]">
                            <label for="" class="font-[500]">Date de fin</label>
                            <input type="date" class="exp bg-white/80 border-1 h-10 border-black w-[100%] rounded-[5px]">
                            <button id="remove_exp" class="font-[500] w-full rounded-[10px] text-red-500 text-[12px] p-1 h-8 border-2">remove</button>
                        </div> -->
                    </div>
                    <button type="button" id="add_experience"
                        class="font-[500]  rounded-[10px] w-20 text-white bg-black lg:text-[15px] text-[12px] p-1">ajouter</button>
                    <button type="submit" id="submit"
                        class="font-[600]  rounded-[10px] mt-5 text-white lg:text-[18px] text-[12px] p-2 bg-green-800 ">Submit</button>
                </form>
            </div>
        </div>
    </section>

    <section id="section_info" class="absolute hidden flex justify-center items-center bg-black/50 h-screen w-full">
        <!-- <div class="relative w-95 flex flex-col p-5 gap-2 lg:w-160 bg-gray-400 rounded-[10px] font-[400]">
            <h2 class="font-[700]">EL Mehdi lahrach</h2>
            <div class="flex gap-4 items-start">
                <img src="image/mehdi.png" alt="photo" class="w-[40%] lg:w-[20%]">
                <div class="flex flex-col gap-2">
                    <h3 class="font-[700]">Manager</h3>
                    <p>mehdi@gmail.com</p>
                    <p>+212 00000000</p>
                    <h3 class="font-[700]">Expériences</h3>
                    <ul class="list-disc ml-10">
                        <li>exp1</li>
                        <li>exp1</li>
                    </ul>
                    <p>localisation actuelle : reception</p>
                </div>
            </div>
            <button id="close_info" class=" rounded-[5px] w-8 bg-red-800 text-white absolute lg:left-145 left-80">X</button>
        </div>  -->
    </section>




    <script src="scripte.js"></script>
</body>

</html>


<!-- <form class="flex  flex-col items-center text-white bg-gray-800 p-1 lg:w-80 ">
    <label for="">name</label>
    <input type="text" class="border-3 border-red-500 rounded-[5px]">
    <label for="">Rôle</label>
    <input type="text" class="border-3 border-red-500 rounded-[5px]">
    <label for="">Photo (URL)</label>
    <input type="url" class="border-3 border-red-500 rounded-[5px]">
    <label for="">email</label>
    <input type="email" class="border-3 border-red-500 rounded-[5px]">
    <label for="">numero</label>
    <input type="number" class="border-3 border-red-500 rounded-[5px]">
    <label for="">Expériences professionnelles</label>
    <button>ajouter</button>
</form> 